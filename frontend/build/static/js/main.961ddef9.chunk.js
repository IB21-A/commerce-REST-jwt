(this["webpackJsonpcommerce-react"]=this["webpackJsonpcommerce-react"]||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),i=n(24),s=n.n(i),o=(n(80),n(81),n(13)),u=n(11),l=n(4),d=n(5),b=n(6),j=b.b.div(r||(r=Object(d.a)(["\n\tnav {\n\t\tbackground: #00abff;\n\t\tmargin: 0 auto 10px auto;\n\t\tbox-shadow: 0 3px 7px grey;\n\t}\n\n\t.nav-center {\n\t\tmax-width: 90vw;\n\t\tmargin: 0 auto;\n\t}\n\n\t.nav-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 1rem 0;\n\t}\n\n\t.nav-toggle {\n\t\tfont-size: 1.5rem;\n\t\tcolor: white;\n\t\tbackground: transparent;\n\t\tborder-color: transparent;\n\t\ttransition: var(--transition);\n\t\tcursor: pointer;\n\t}\n\n\t.nav-toggle:hover {\n\t\tcolor: #0000ff;\n\t\ttransform: rotate(90deg);\n\t}\n\n\tul {\n\t\tlist-style-type: none;\n\t}\n\n\t.links-container {\n\t\theight: 0;\n\t\toverflow: hidden;\n\t\ttransition: var(--transition);\n\t}\n\n\t.links a {\n\t\tcolor: white;\n\t\ttext-transform: capitalize;\n\t\ttext-decoration: none;\n\t\tdisplay: block;\n\t\talign-items: center;\n\t\tpadding: 0 0.5rem 1.25rem;\n\t\ttransition: var(--transition);\n\t}\n\n\t.links a:hover {\n\t\tcolor: #0000ff;\n\t\tbackground: hsl(205, 86%, 81%);\n\t\tpadding-left: 1.5rem;\n\t}\n\n\t@media screen and (min-width: 800px) {\n\t\t.nav-center {\n\t\t\tmax-width: var(--maxWidth);\n\t\t\tmargin: 0 auto;\n\t\t\tdisplay: flex;\n\t\t\talign-items: baseline;\n\t\t\tjustify-content: space-between;\n\t\t\tpadding: 1em;\n\t\t}\n\n\t\t.nav-toggle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.links-container {\n\t\t\theight: auto !important;\n\t\t}\n\n\t\t.links {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.links a {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0 1rem;\n\t\t}\n\t\t.links a:hover {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0 1rem;\n\t\t\tbackground: none;\n\t\t}\n\t}\n"]))),p=n(18),m=n(3),h=n.n(m),x=n(7),f=n(29),g=n(69),O="https://ebid-thom.herokuapp.com/api/",v=n.n(g).a.create({baseURL:O,timeout:5e3,headers:{Authorization:localStorage.getItem("access_token")?"Bearer "+localStorage.getItem("access_token"):null,"Content-Type":"application/json",accept:"application/json"}});v.interceptors.response.use((function(e){return e}),function(){var e=Object(x.a)(h.a.mark((function e(t){var n,r,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,"undefined"!==typeof t.response){e.next=4;break}return alert("A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly."),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||n.url!==O+"users/token/refresh/"){e.next=7;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 7:if("token_not_valid"!==t.response.data.code||401!==t.response.status||"Unauthorized"!==t.response.statusText){e.next=22;break}if(!(r=localStorage.getItem("refresh_token"))){e.next=20;break}if(a=JSON.parse(atob(r.split(".")[1])),c=Math.ceil(Date.now()/1e3),!(a.exp>c)){e.next=16;break}return e.abrupt("return",v.post("/users/token/refresh/",{refresh:r}).then((function(e){console.log(e),localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh);var t="Bearer "+e.data.access;return v.defaults.headers.Authorization=t,n.defaults.headers.Authorization=t,console.log(n),v(n)})).catch((function(e){console.log(e)})));case 16:console.log("Refresh token is expired",a.exp,c),window.location.href="/login/";case 18:e.next=22;break;case 20:console.log("Refresh token not available."),window.location.href="/login/";case 22:return e.abrupt("return",Promise.reject(t));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var w=v,A={register:function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("/users/register/",{email:t.email,username:t.username,first_name:t.first_name,last_name:t.last_name,password:t.password,password_repeat:t.password_repeat}).catch((function(e){return e.response.data}));case 2:if(201!==(n=e.sent).status){e.next=6;break}return console.log("Success! created user"),e.abrupt("return",n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(x.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("users/token/",{username:t.username,password:t.password});case 3:return n=e.sent,localStorage.setItem("access_token",n.data.access),localStorage.setItem("refresh_token",n.data.refresh),w.defaults.headers.Authorization="Bearer "+localStorage.getItem("access_token"),r=Object(f.a)(n.data.access),e.abrupt("return",r);case 11:if(e.prev=11,e.t0=e.catch(0),!e.t0.response){e.next=16;break}return console.log(e.t0.response.data),e.abrupt("return",e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:"Something went wrong!"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),getCurrentUsername:function(){var e=Object(x.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)(localStorage.getItem("access_token"));case 3:return t=e.sent,n=t.username.charAt(0).toUpperCase()+t.username.slice(1).toLowerCase(),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getCategories:function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("categories/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getActiveAuctions:function(){var e=Object(x.a)(h.a.mark((function e(t,n,r){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="listings/?page=".concat(t,"&is_active=True"),n&&(a+="&search=".concat(n)),r&&"0"!==r&&(a+="&category=".concat(r)),e.next=6,w.get(a);case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),getProfileDetail:function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("users/".concat(t,"/"));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getAuctionDetail:function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("listings/".concat(t,"/"));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getCommentsByListingId:function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getWatchList:function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("users/".concat(t,"/watchlist"));case 3:return n=e.sent,Object.values(n.data),e.abrupt("return",Object.values(n.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),toggleWatchStatus:function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("watching/",{listing_id:t});case 2:if(201!==e.sent.status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),submitBid:function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("bids/",{listing_id:t,bid_amount:n}).catch((function(e){return console.log(e.response),e.response}));case 2:if(201!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),submitComment:function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("comments/",{listing_id:t,body:n}).catch((function(e){return console.log(e.response),e.response}));case 2:if(201!==(r=e.sent).status){e.next=6;break}return console.log("Success!"),e.abrupt("return",r.data);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),createListing:function(){var e=Object(x.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(t),e.next=3,w.post("listings/",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e})).catch((function(e){return e.response}));case 3:return 201===(r=e.sent).status&&(window.location.href="/listings/".concat(r.data.id)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editListing:function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k(n),e.next=3,w.put("listings/".concat(t,"/"),r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return console.log(e),e})).catch((function(e){return e.response}));case 3:return 200===(a=e.sent).status&&(window.location.href="/listings/".concat(a.data.id)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),closeListing:function(){var e=Object(x.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("is_active",!1),e.next=4,w.patch("listings/".concat(t,"/"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return console.log(e),e})).catch((function(e){return e.response}));case 4:return 200===(r=e.sent).status&&(window.location.href="/listings/".concat(r.data.id)),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e){var t=new FormData;return e.image_url&&e.image_url instanceof File&&t.append("image_url",e.image_url,e.image_url.name),t.append("title",e.title),t.append("description",e.description),t.append("category",e.category),t.append("start_bid",e.start_bid),t.append("is_active",!0),t},y=A,C=n(0),S=Object(a.createContext)();function N(e){var t=e.children,n=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(u.f)(),i=function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.login(t);case 2:return n=e.sent,r(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(null),e.next=3,y.logout();case 3:c("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getCurrentUsername();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){try{var e=localStorage.getItem("access_token");console.log("useAuth useEffect unsubscribe",e),r(Object(f.a)(e))}catch(t){return void r(null)}},t=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.getItem("access_token");case 3:t=e.sent,console.log("useAuth useEffect checkUser",t),r(Object(f.a)(t)),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),r(null),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return t(),function(){return e}}),[]),{user:n,login:i,logout:s,getUsername:o}}();return Object(C.jsx)(S.Provider,{value:n,children:t})}var B=function(){return Object(a.useContext)(S)};var I,E,F,L,_,T,W,q,Q,z,R,D,J,G,P,Y,U,Z,V=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null),i=Object(a.useRef)(null),s=B(),o=s.user&&s.user.username?s.user:null;return Object(a.useEffect)((function(){var e=i.current.getBoundingClientRect().height;c.current.style.height=n?"".concat(e,"px"):"0px"}),[n]),Object(C.jsx)(j,{children:Object(C.jsx)("nav",{children:Object(C.jsxs)("div",{className:"nav-center",children:[Object(C.jsxs)("div",{className:"nav-header",children:[Object(C.jsx)("h1",{children:"eBid!"}),Object(C.jsx)("button",{className:"nav-toggle",onClick:function(){return r(!n)},children:Object(C.jsx)(p.a,{})})]}),Object(C.jsx)("div",{className:"links-container",ref:c,children:Object(C.jsxs)("ul",{className:"links",ref:i,children:[Object(C.jsx)("a",{href:"/",children:Object(C.jsx)("li",{children:"Home"})}),!o&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("a",{href:"/register",children:Object(C.jsx)("li",{children:"Register"})}),Object(C.jsx)("a",{href:"/login",children:Object(C.jsx)("li",{children:"Login"})})]}),o&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("a",{href:"/profile/".concat(o.username),children:Object(C.jsx)("li",{children:o.username})}),Object(C.jsx)("a",{href:"/logout",children:Object(C.jsx)("li",{children:"Logout"})})]})]})})]})})})},M=n(2),H=b.b.div(I||(I=Object(d.a)(["\n\tmargin: 0 auto;\n\tpadding: 1rem;\n\tmax-width: var(--maxWidth);\n"]))),K=b.b.div(E||(E=Object(d.a)(["\n\tborder: 1px grey solid;\n\tborder-radius: 5px;\n\tbox-shadow: 3px 3px 7px grey;\n\tpadding: 1rem;\n\tmargin: 3rem auto;\n\n\th1 {\n\t\tpadding-bottom: 1rem;\n\t}\n\n\t@media screen and (min-width: 800px) {\n\t\tmax-width: 60%;\n\t}\n"]))),X=n(10),$=n(20),ee=n(26),te=n(21),ne=n.n(te),re=function(){var e=Object(a.useState)({email:"",username:"",first_name:"firstname",last_name:"lastname",password:"",password_repeat:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),i=Object(l.a)(c,2),s=i[0],o=i[1],d=Object(u.f)(),b=B(),j=ne.a.object({email:ne.a.string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}),username:ne.a.string().alphanum().min(3).max(30).required(),first_name:ne.a.string().pattern(new RegExp("^[a-zA-Z]{1,30}$")).required(),last_name:ne.a.string().pattern(new RegExp("^[a-zA-Z]{1,30}$")).required(),password:ne.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$")).required(),password_repeat:ne.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$")).required()}),p=function(e){var t=e.currentTarget,a=Object(M.a)({},n);a[t.name]=t.value,r(a)},m=function(){var e=Object(x.a)(h.a.mark((function e(){var t,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o({}),t={abortEarly:!1},r=j.validate(n,t),a={},!r.error){e.next=8;break}return r.error.details.forEach((function(e){a[e.path]=e.message})),o(a),e.abrupt("return");case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.register(n);case 3:if(201!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",!0);case 6:return o(t),e.abrupt("return",!1);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,f();case 8:e.sent&&O();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(x.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.login(n);case 3:if(t=e.sent,r={},t.detail&&(r.login_error=t.detail,o(r)),!t.username){e.next=8;break}return e.abrupt("return",d("/"));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(H,{children:Object(C.jsxs)(K,{children:[Object(C.jsx)("h1",{children:"Register"}),Object(C.jsxs)(X.a,{children:[Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(C.jsx)(ee.a,{controlId:"floatingInput",label:"Email address",className:"mb-3 text-muted",children:Object(C.jsx)(X.a.Control,{name:"email",type:"email",value:n.email,placeholder:"Enter email",onChange:function(e){return p(e)}})}),s.email&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.email})]}),Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(C.jsx)(ee.a,{controlId:"floatingInput",label:"Username",className:"mb-3 text-muted",children:Object(C.jsx)(X.a.Control,{name:"username",value:n.username,type:"text",placeholder:"Enter Username",onChange:function(e){return p(e)}})}),s.username&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.username})]}),Object(C.jsx)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(C.jsx)(ee.a,{controlId:"floatingPassword",label:"Password",className:"mb-3 text-muted",children:Object(C.jsx)(X.a.Control,{name:"password",value:n.password,type:"password",placeholder:"Password",onChange:function(e){return p(e)}})})}),Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(C.jsx)(ee.a,{controlId:"floatingRepeatPassword",label:"Repeat Password",className:"mb-3 text-muted",children:Object(C.jsx)(X.a.Control,{name:"password_repeat",value:n.password_repeat,type:"password",placeholder:"Password",onChange:function(e){return p(e)}})}),s.password&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.password}),s.login_error&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.login_error})]}),Object(C.jsx)($.a,{variant:"primary",type:"submit",onClick:function(e){return g(e)},children:"Submit"})]})]})})})},ae=b.b.div(F||(F=Object(d.a)(["\n\tmargin: 0 auto;\n\tpadding: 1rem;\n\tmax-width: var(--maxWidth);\n"]))),ce=b.b.div(L||(L=Object(d.a)(["\n\tborder: 1px grey solid;\n\tborder-radius: 5px;\n\tbox-shadow: 3px 3px 7px grey;\n\tpadding: 1rem;\n\tmargin: 3rem auto;\n\n\th1 {\n\t\tpadding-bottom: 1rem;\n\t}\n\n\t@media screen and (min-width: 800px) {\n\t\tmax-width: 60%;\n\t}\n"]))),ie=function(){var e=Object(a.useState)({username:"",password:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),i=Object(l.a)(c,2),s=i[0],o=i[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),j=b[0],p=b[1],m=B(),f=Object(u.f)(),g=ne.a.object({username:ne.a.string().alphanum().min(3).max(30).required(),password:ne.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$")).required()}),O=function(e){var t=e.currentTarget,a=Object(M.a)({},n);a[t.name]=t.value,r(a)},v=function(){var e=Object(x.a)(h.a.mark((function e(){var t,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({}),t={abortEarly:!1},e.next=4,g.validate(n,t);case 4:if(r=e.sent,a={},!r.error){e.next=10;break}return r.error.details.forEach((function(e){a[e.path]=e.message})),o(a),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,m.login(n);case 4:if(t=e.sent,r={},t.detail&&(r.login_error=t.detail,o(r)),p(!1),!t.username){e.next=10;break}return e.abrupt("return",f("/"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),p(!1);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.next=4,v();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,w();case 9:p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ae,{children:Object(C.jsxs)(ce,{children:[Object(C.jsx)("h1",{children:"Login"}),Object(C.jsxs)(X.a,{children:[s.login_error&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.login_error}),Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(C.jsx)(ee.a,{controlId:"floatingInput",label:"Username",className:"mb-3 text-muted",children:Object(C.jsx)(X.a.Control,{name:"username",value:n.username,type:"text",placeholder:"Enter Username",onChange:function(e){return O(e)}})}),s.username&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.username})]}),Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(C.jsx)(ee.a,{controlId:"floatingPassword",label:"Password",className:"mb-3 text-muted",children:Object(C.jsx)(X.a.Control,{name:"password",value:n.password,type:"password",placeholder:"Password",onChange:function(e){return O(e)}})}),s.password&&Object(C.jsx)("div",{className:"alert alert-danger",children:s.password})]}),Object(C.jsx)($.a,{variant:"primary",type:"submit",onClick:function(e){return A(e)},disabled:j,children:j?"Logging in...":"Submit"})]})]})})})},se=b.b.div(_||(_=Object(d.a)(["\n\tmax-width: var(--maxWidth);\n\tmargin: 0 auto;\n"]))),oe=function(){var e=B();return Object(a.useEffect)((function(){e.logout()})),Object(C.jsx)(se,{children:Object(C.jsx)("div",{children:"Logging out..."})})},ue=b.b.div(T||(T=Object(d.a)(["\n\tmargin: 0 auto;\n\tmax-width: var(--maxWidth);\n"]))),le=b.b.div(W||(W=Object(d.a)(["\n\tmargin-bottom: 2rem;\n\tpadding: 1rem;\n\tborder: 1px solid lightgray;\n\tmax-width: var(--maxWidth);\n"]))),de={count:1,next:null,previous:null,total_pages:1,results:[]},be=[{id:0,name:"",listings:[]}],je={searchTerm:"",category:0},pe=function(){var e=Object(a.useState)(je),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(be),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(de),d=Object(l.a)(u,2),b=d[0],j=d[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),f=m[0],g=m[1],O=Object(a.useState)(!1),v=Object(l.a)(O,2),w=v[0],A=v[1],k=Object(a.useState)(1),C=Object(l.a)(k,2),S=C[0],N=C[1],B=function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!1),g(!0),e.next=5,y.getActiveAuctions(t,n.searchTerm,n.category);case 5:r=e.sent,j(Object(M.a)({},r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),A(!0);case 12:g(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getCategories();case 2:(t=e.sent)&&t.length>1&&o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){j(de),B(S,n)}),[S,n]);return Object(a.useEffect)((function(){I()}),[]),{state:b,loading:f,error:w,doNewSearch:function(e){N(1),r(e)},pageNum:S,setPageNum:N,categories:s}},me=b.b.div(q||(q=Object(d.a)(["\n\tborder: 5px solid var(--lightGrey);\n\tborder-top: 5px solid var(--darkGrey);\n\tborder-radius: 50%;\n\twidth: 50px;\n\theight: 50px;\n\tmargin: 20px auto;\n\n\tanimation: spin 0.8s linear infinite;\n\n\t@keyframes spin {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"]))),he=b.b.div(Q||(Q=Object(d.a)(["\n\tborder: 1px solid;\n\tborder-color: var(--medLightGrey);\n\theight: 2.2rem;\n\twidth: 2.2rem;\n\tborder-radius: 100%;\n\ttext-align: center;\n\n\tcolor: var(--medLightGrey);\n\tfont-size: 1.4rem;\n\ttransition: var(--transition);\n\n\tmargin-top: auto;\n\tmargin-left: auto;\n\ttext-align: center;\n\twhite-space: nowrap;\n\tflex-shrink: 0;\n\n\t:hover {\n\t\tborder: 1px solid;\n\t\tborder-color: var(--primary);\n\t\tcolor: var(--primary);\n\t\tbox-shadow: 1px 1px 3px;\n\t\ttransition: var(--transition);\n\t}\n\n\t.active {\n\t\tcolor: red;\n\n\t\ttransition: var(--transition);\n\t}\n"]))),xe=b.b.div(z||(z=Object(d.a)(["\n\t.icon {\n\t\tcolor: yellow;\n\t\tfont-size: 1.1rem;\n\t\tmargin-bottom: 0.2rem;\n\n\t\t","\n\t}\n"])),""),fe=function(e){var t=e.auctionId,n=e.isWatched,r=e.variant,c=e.isAuthorized,i=n,s=Object(u.f)(),o=Object(a.useState)(!1),d=Object(l.a)(o,2),b=d[0],j=d[1];Object(a.useEffect)((function(){j(i)}),[i]);var m=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",s("/login/"));case 2:return e.next=4,y.toggleWatchStatus(t);case 4:if(!0!==e.sent){e.next=7;break}return e.abrupt("return",j(!0));case 7:return e.abrupt("return",j(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"heartContainer"===r?Object(C.jsx)(he,{onClick:m,children:b?Object(C.jsx)(p.c,{className:"active"}):Object(C.jsx)(p.e,{})}):"button"===r?Object(C.jsx)(xe,{onClick:m,children:Object(C.jsxs)($.a,{variant:"secondary",className:"custom-rounded mt-3",children:[b?Object(C.jsx)(p.g,{className:"icon"}):Object(C.jsx)(p.f,{className:"icon"})," ",b?"Remove from Watchlist":"Add to Watchlist"]})}):void 0},ge="data:image/gif;base64,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",Oe=b.b.div(R||(R=Object(d.a)(["\n  margin-top: 0.5rem;\n  padding: 0 0.5rem;\n  width: auto;\n\n  hr {\n    width: 100%;\n    margin: 1.5rem auto;\n    opacity: 10%;\n  }\n"]))),ve=b.b.div(D||(D=Object(d.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n"]))),we=b.b.div(J||(J=Object(d.a)([""]))),Ae=b.b.img.attrs((function(e){return{src:e.src||ge}}))(G||(G=Object(d.a)(["\n  border: solid lightgray 1px;\n  object-fit: contain;\n  width: 250px;\n  height: 250px;\n\n  @media screen and (max-width: 768px) {\n    margin-bottom: 1rem;\n  }\n"])));Ae.defaultProps={src:ge};var ke,ye,Ce,Se,Ne,Be,Ie,Ee,Fe,Le,_e,Te,We,qe,Qe,ze,Re,De,Je,Ge,Pe=b.b.div(P||(P=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 1rem;\n  flex-grow: 1;\n\n  @media screen and (max-width: 768px) {\n    margin-left: 0;\n    width: 90%;\n    max-width: 100%;\n  }\n"]))),Ye=b.b.div(Y||(Y=Object(d.a)(["\n  font-size: 1.4rem;\n  font-weight: 500;\n"]))),Ue=b.b.div(U||(U=Object(d.a)(["\n  font-size: 1.8rem;\n  font-weight: 500;\n"]))),Ze=b.b.div(Z||(Z=Object(d.a)(["\n  @media screen and (min-width: 769px) {\n    margin-right: clamp(10vw, 1em, 20vw);\n  }\n"]))),Ve=function(e){var t=e.auction,n=e.isWatched,r=e.isAuthorized;return Object(C.jsxs)(Oe,{children:[Object(C.jsxs)(ve,{className:"theContainer",children:[Object(C.jsx)(we,{className:"theThumbnailContainer",children:Object(C.jsx)(Ae,{src:t.image_url})}),Object(C.jsxs)(Pe,{className:"theListingDetails",children:[Object(C.jsx)(o.b,{to:"/listings/".concat(t.id),children:Object(C.jsx)(Ye,{children:t.title})}),Object(C.jsx)(Ze,{children:t.description}),Object(C.jsxs)(Ue,{children:["$",t.current_bid_price.toFixed(2)]}),Object(C.jsx)(fe,{variant:"heartContainer",auctionId:t.id,isWatched:n,isAuthorized:r})]})]}),Object(C.jsx)("hr",{})]})},Me=b.b.div(ke||(ke=Object(d.a)(["\n\tmax-width: var(--maxWidth);\n\tmargin: 1rem auto;\n"]))),He=function(e){var t=e.doNewSearch,n=Object(a.useState)({searchTerm:"",category:""}),r=Object(l.a)(n,2),c=r[0],i=r[1],s=pe().categories,o=function(e){var t=e.currentTarget,n=Object(M.a)({},c);n[t.name]=t.value,i(n)};return Object(C.jsx)(Me,{className:"max-width-margin",children:Object(C.jsx)(X.a,{onSubmit:function(e){e.preventDefault(),t(c)},children:Object(C.jsx)(X.a.Group,{className:"mb-3 ",controlId:"formSearchTerm",children:Object(C.jsxs)("div",{className:"two-columns gap",children:[Object(C.jsx)("div",{className:"flex-fill",children:Object(C.jsx)(X.a.Control,{type:"text",placeholder:"Search for ...",name:"searchTerm",value:c.searchTerm,onChange:function(e){o(e)}})}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(X.a.Select,{"aria-label":"Select a category",name:"category",value:c.category,onChange:function(e){o(e)},children:[Object(C.jsx)("option",{value:0,children:"All Categories"},"all-categories"),s&&s.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.name},t)}))]})}),Object(C.jsx)("div",{children:Object(C.jsx)($.a,{variant:"primary",type:"submit",children:"Search"})})]})})})})},Ke=n(49),Xe=b.b.div(ye||(ye=Object(d.a)(["\n\t.pagination {\n\t\tjustify-content: center;\n\t}\n"]))),$e=function(e){for(var t=e.currentPage,n=e.setCurrentPage,r=e.totalPages,a=t,c=[],i=function(e){c.push(Object(C.jsx)(Ke.a.Item,{active:e===a,onClick:function(t){return function(e,t){n(t)}(0,e)},children:e},e))},s=1;s<=r;s++)i(s);return Object(C.jsx)(Xe,{children:Object(C.jsx)(Ke.a,{size:"lg",children:c})})},et=function(){var e=B(),t=pe(),n=t.state,r=t.loading,a=(t.error,t.doNewSearch),c=t.pageNum,i=t.setPageNum;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(He,{doNewSearch:a}),r&&Object(C.jsx)(me,{}),Object(C.jsxs)(ue,{className:"max-width-margin",children:[Object(C.jsx)(le,{children:n.count>0?n.results.map((function(t){return t.is_active&&Object(C.jsx)(Ve,{auction:t,isWatched:t.user_is_following,isAuthorized:e.user},t.id)})):"There are no listings"}),Object(C.jsx)($e,{totalPages:n.total_pages,currentPage:c,setCurrentPage:i})]})]})},tt=b.b.div(Ce||(Ce=Object(d.a)(['\n  margin: 0 auto;\n  padding: 1rem;\n  max-width: var(--maxWidth);\n\n  /* Remove number picker arrows from number input */\n  input[type="number"]::-webkit-inner-spin-button,\n  input[type="number"]::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n  }\n\n  .custom-rounded {\n    width: 100% !important;\n    border-radius: 25px !important;\n  }\n\n  .bid-price {\n    font-size: 2rem;\n    font-weight: bold;\n  }\n\n  .price-box {\n    min-width: 300px;\n  }\n']))),nt=b.b.div(Se||(Se=Object(d.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n"]))),rt=b.b.img.attrs((function(e){return{src:e.src||ge}}))(Ne||(Ne=Object(d.a)(["\n  border: solid lightgray 1px;\n  object-fit: contain;\n  width: 100%;\n  height: 100%;\n"]))),at=b.b.div(Be||(Be=Object(d.a)(["\n  flex-grow: 1;\n  max-width: 400px;\n  max-height: 400px;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media screen and (max-width: 768px) {\n    max-width: 100vw;\n    max-height: 50vw;\n  }\n"]))),ct=b.b.div(Ie||(Ie=Object(d.a)(["\n  overflow-wrap: anywhere;\n  ","\n\n  @media screen and (max-width: 768px) {\n    .button-column {\n      width: 100%;\n    }\n\n    .bid-details {\n      text-align: center;\n    }\n\n    .title {\n      max-width: 100%;\n    }\n  }\n"])),""),it=b.b.div(Ee||(Ee=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .amount-column {\n    margin-right: 2rem;\n  }\n\n  .button-column {\n    min-width: 244px;\n  }\n\n  @media screen and (max-width: 600px) {\n    .button-column {\n      width: 100%;\n    }\n\n    .bid-details {\n      text-align: center;\n    }\n  }\n"]))),st=b.b.div(Fe||(Fe=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .amount-column {\n    margin-right: 2rem;\n  }\n\n  .button-column {\n    min-width: 244px;\n  }\n\n  @media screen and (max-width: 600px) {\n    .button-column {\n      width: 100%;\n    }\n\n    .bid-details {\n      text-align: center;\n    }\n  }\n"]))),ot=b.b.div(Le||(Le=Object(d.a)([""]))),ut={creator:"",creator_id:"",title:"",description:"",start_bid:0,creation_date:"",is_active:!0,winner:null,category:"",image_url:"",comments:[],bids:[],num_of_bids:0,num_of_unique_bids:0,current_bid_price:0,user_is_following:!1},lt=function(e){var t=Object(a.useState)(ut),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),j=b[0],p=b[1],m=function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",c(ut));case 2:return e.prev=2,p(!1),u(!0),e.next=7,y.getAuctionDetail(t);case 7:if(200===(n=e.sent).status){e.next=11;break}return p(!0),e.abrupt("return");case 11:c(n.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),p(!0);case 17:u(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){m(e)}),[e]),{state:r,loading:o,error:j}},dt=n(129),bt=n(43),jt=b.b.div(_e||(_e=Object(d.a)([""]))),pt=b.b.div(Te||(Te=Object(d.a)(["\n  background: #e6e6e6;\n  padding: 1rem;\n"]))),mt=b.b.div(We||(We=Object(d.a)(["\n    margin-top: 1rem;\n"]))),ht=function(e){var t=e.listingId,n=e.updateComments,r=Object(a.useState)({comment:""}),c=Object(l.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],j=Object(a.useState)(""),p=Object(l.a)(j,2),m=p[0],f=p[1],g=function(){var e=Object(x.a)(h.a.mark((function e(r){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),f(""),b(!0),e.next=5,y.submitComment(t,i.comment);case 5:a=e.sent,n(a),b(!1),s({comment:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(mt,{children:Object(C.jsxs)(X.a,{children:[Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"descriptionInput",children:[Object(C.jsx)(X.a.Label,{children:"Add a Comment or Question"}),Object(C.jsx)(X.a.Control,{as:"textarea",className:"preserve-whitespace",rows:3,placeholder:"Write it here",name:"comment",value:i.comment,isInvalid:m,onChange:function(e){!function(e){var t=e.currentTarget,n=Object(M.a)({},i);n[t.name]=t.value,s(n)}(e)}}),m.description&&Object(C.jsx)(X.a.Text,{className:"alert-danger",tooltip:!0,children:m})]}),Object(C.jsx)($.a,{variant:"primary",type:"submit",onClick:function(e){return g(e)},disabled:d||""===i.comment,children:d?"Please wait...":"Submit"})]})})},xt=n(72),ft=n.n(xt),gt=b.b.div(qe||(qe=Object(d.a)(["\n  & ~ & {\n    margin-top: min(0.5rem, 1vw);\n  }\n  padding: 1rem;\n  border: solid 2px\n    ",";\n  background: white;\n"])),(function(e){return e.isOwner?"var(--primary)":"var(--medLightGrey)"})),Ot=b.b.div(Qe||(Qe=Object(d.a)(["\n  display: flex;\n  align-items: baseline;\n"]))),vt=b.b.div(ze||(ze=Object(d.a)([""]))),wt=b.b.div(Re||(Re=Object(d.a)(["\n  img,\n  svg {\n    vertical-align: baseline;\n  }\n\n  color: ",";\n  font-size: 1.5rem;\n"])),(function(e){return e.isOwner?"var(--primary)":"var(--medLightGrey)"})),At=function(e){var t=e.comment,n=e.isOwner;return Object(C.jsxs)(gt,{isOwner:n,children:[Object(C.jsxs)(Ot,{className:"gap",style:{"--gap":".7rem"},children:[Object(C.jsx)(wt,{isOwner:n,children:n?Object(C.jsx)(p.b,{}):Object(C.jsx)(p.d,{})}),Object(C.jsx)(o.b,{to:"/profile/".concat(t.author),children:Object(C.jsx)("h3",{className:"capitalize",children:t.author})})," ",Object(C.jsx)("span",{className:"date",children:ft()(t.datetime).format("MMM Do YYYY, h:mm a")})]}),Object(C.jsx)(vt,{children:Object(C.jsx)("p",{children:t.body})})]})},kt=function(e){var t=e.comments,n=e.listingId,r=e.listingOwnerId,c=e.isAuthorized,i=Object(a.useState)(t),s=Object(l.a)(i,2),u=s[0],d=s[1],b=function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[].concat(Object(bt.a)(u),[t]),d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(jt,{children:[Object(C.jsx)("h1",{children:"Comments"}),Object(C.jsx)(pt,{children:u.length>0&&u.map((function(e){var t=e.author_id===r;return Object(C.jsx)(At,{comment:e,isOwner:t,className:"comment"},"comment-".concat(e.comment_id))}))}),c&&Object(C.jsx)(ht,{listingId:n,updateComments:b}),!c&&Object(C.jsxs)("div",{children:[Object(C.jsx)(o.b,{to:"/login",className:"my-2",children:"Sign in"})," ","to post a question or comment"]})]})},yt=function(){var e=Object(u.g)().listingId,t=lt(e),n=t.state,r=t.loading,c=t.error,i=B(),s=Object(u.f)(),d=Object(a.useState)(""),b=Object(l.a)(d,2),j=b[0],p=b[1],m=Object(a.useState)(""),f=Object(l.a)(m,2),g=f[0],O=f[1],v=Object(a.useState)(!1),w=Object(l.a)(v,2),A=w[0],k=w[1],S=Object(a.useState)("Starting Bid:"),N=Object(l.a)(S,2),I=N[0],E=N[1],F=Object(a.useState)(!1),L=Object(l.a)(F,2),_=L[0],T=L[1];if(Object(a.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getCurrentUsername();case 2:if(t=e.sent,e.prev=3,!n.bids[0]||n.bids[0].creator.toLowerCase()!==t.toLowerCase()){e.next=6;break}return e.abrupt("return",k(!0));case 6:return e.abrupt("return",k(!1));case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.num_of_bids>=1)){e.next=4;break}if(!n.is_active){e.next=3;break}return e.abrupt("return",E("Current Bid:"));case 3:return e.abrupt("return",E("Closing Bid:"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i.user){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",T(i.user.user_id===n.creator_id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),e(),r()}),[n,i]),r)return Object(C.jsx)(tt,{children:Object(C.jsx)(me,{})});if(c)return Object(C.jsx)(tt,{children:"No such listing exists"});var W=function(){var t=Object(x.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),null===i.user&&s("/login/"),O(""),t.next=5,y.submitBid(e,j);case 5:if(400!==(r=t.sent).status){t.next=9;break}return O(r.data.bid_amount),t.abrupt("return");case 9:return t.abrupt("return",window.location.reload());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)(tt,{children:[Object(C.jsxs)(nt,{children:[Object(C.jsx)(at,{children:Object(C.jsx)(rt,{src:n.image_url})}),Object(C.jsxs)(ct,{children:[Object(C.jsx)("h2",{className:"title",children:n.title}),Object(C.jsxs)("div",{className:"two-columns space-between",children:[Object(C.jsxs)("h6",{children:["listed by"," ",Object(C.jsx)(o.b,{to:"/profile/".concat(n.creator),className:"capitalize",children:n.creator})]}),Object(C.jsx)("div",{children:n.is_active&&_&&Object(C.jsx)(o.b,{to:"/listings/edit/".concat(e),children:Object(C.jsx)($.a,{variant:"link",children:"Edit this listing"})})})]}),n.is_active&&Object(C.jsxs)(it,{children:[Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{children:[A&&Object(C.jsx)("div",{className:"bg-warning px-2 py-1 mb-3",children:"You are the current top bidder"}),_&&Object(C.jsx)("div",{className:"bg-warning px-2 py-1 mb-3",children:"This is your listing."})]}),Object(C.jsxs)(X.a,{className:"two-columns space-between",children:[Object(C.jsxs)("div",{className:"two-columns space-between price-box",children:[Object(C.jsx)("div",{className:"m-2",children:I}),Object(C.jsxs)("div",{className:"amount-column",children:[Object(C.jsxs)("div",{className:"bid-price",children:["US $",n.current_bid_price.toFixed(2)]}),!_&&Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBid",children:[Object(C.jsx)(dt.a,{children:Object(C.jsx)(X.a.Control,{type:"number",value:j,onChange:function(e){return function(e){var t=e.currentTarget;p(t.value)}(e)},placeholder:"Bid Amount",isInvalid:g})}),g&&Object(C.jsx)("div",{className:"alert-danger p-1",children:g}),Object(C.jsxs)(X.a.Text,{className:"text-muted",children:["Enter bid amount. e.g. $",(n.current_bid_price+.01).toFixed(2)]})]})]})]}),Object(C.jsxs)("div",{className:"button-column",children:[Object(C.jsxs)("div",{className:"bid-details",children:[n.num_of_bids," bid",(n.num_of_bids>1||0===n.num_of_bids)&&"s"," ","with ",n.num_of_unique_bids," bidder",(n.num_of_unique_bids>1||0===n.num_of_unique_bids)&&"s"]}),!_&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)($.a,{variant:"primary",className:"custom-rounded mt-2",type:"submit",onClick:function(e){return W(e)},children:"Place Bid"}),Object(C.jsx)(fe,{variant:"button",auctionId:e,isWatched:n.user_is_following,isAuthorized:i.user})]})]})]})]}),!1===n.is_active&&Object(C.jsxs)(st,{children:[Object(C.jsx)("hr",{}),"This auction has ended."," ",A?"You are the winner of this auction.":""]})]})]}),Object(C.jsxs)(ot,{className:"preserve-whitespace",children:[Object(C.jsx)("hr",{}),Object(C.jsx)("p",{children:n.description})]}),Object(C.jsx)(kt,{listingId:e,comments:n.comments,listingOwnerId:n.creator_id,isAuthorized:i.user})]})},Ct=b.b.div(De||(De=Object(d.a)(['\n\tmargin: 0 auto;\n\tpadding: 1rem;\n\tmax-width: var(--maxWidth);\n\n\t/* Remove number picker arrows from number input */\n\tinput[type="number"]::-webkit-inner-spin-button,\n\tinput[type="number"]::-webkit-outer-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n']))),St=b.b.div(Je||(Je=Object(d.a)(["\n\tborder: 1px grey solid;\n\tborder-radius: 5px;\n\tbox-shadow: 3px 3px 7px grey;\n\tpadding: 1rem;\n\tmargin: 3rem auto;\n\n\th1 {\n\t\tpadding-bottom: 1rem;\n\t}\n"]))),Nt=b.b.img.attrs((function(e){return{src:e.src}}))(Ge||(Ge=Object(d.a)(["\n\tborder: solid lightgray 1px;\n\tobject-fit: contain;\n\twidth: 250px;\n\theight: 250px;\n\tmargin-bottom: 1rem;\n\tmargin-right: 1rem;\n"])));Nt.defaultProps={src:""};var Bt=n(44),It=n(31),Et=n(33);var Ft,Lt,_t,Tt,Wt,qt,Qt,zt,Rt=function(e){var t=e.showModal,n=e.setShowModal,r=e.handleConfirm,c=e.title,i=void 0===c?"Are you sure?":c,s=e.body,o=void 0===s?"Please confirm":s,u=e.cancelButtonText,d=void 0===u?"Cancel":u,b=e.confirmButtonText,j=void 0===b?"Confirm":b,p=Object(a.useState)(!1),m=Object(l.a)(p,2),h=m[0],x=m[1],f=function(){return x(!1)};return Object(a.useEffect)((function(){t&&(x(!0),n(!1))}),[t,n]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Et.a,{show:h,onHide:f,children:[Object(C.jsx)(Et.a.Header,{closeButton:!0,children:Object(C.jsx)(Et.a.Title,{children:i})}),Object(C.jsx)(Et.a.Body,{children:o}),Object(C.jsxs)(Et.a.Footer,{children:[Object(C.jsx)($.a,{variant:"primary",onClick:f,children:d}),Object(C.jsx)($.a,{variant:"danger",onClick:function(){f(),r()},children:j})]})]})})},Dt=function(){var e=Object(u.g)().listingId,t=lt(e),n=t.state,r=(t.error,B()),c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],o=i[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),j=b[0],p=b[1],m=Object(a.useState)({title:"",description:"",category:"",start_bid:"",image_url:""}),f=Object(l.a)(m,2),g=f[0],O=f[1],v=Object(a.useState)(!1),w=Object(l.a)(v,2),A=w[0],k=w[1],S=Object(a.useState)([{id:"noid",name:"Server unavailable",listings:[]},{id:"noid2",name:"",listings:[]}]),N=Object(l.a)(S,2),I=N[0],E=N[1],F=Object(a.useState)({title:"",description:"",category:"",start_bid:"",image_url:"",permission:""}),L=Object(l.a)(F,2),_=L[0],T=L[1],W=Object(a.useState)(),q=Object(l.a)(W,2),Q=q[0],z=q[1];Object(a.useEffect)((function(){var t=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getCategories();case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=Object(x.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:k(!0),r={title:n.title,description:n.description,category:n.category,start_bid:n.start_bid,image_url:n.image_url,is_active:n.is_active},O(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),a(),function(){if(null!==r.user)n.is_active&&A&&r.user.user_id===n.creator_id?p(!0):A||null===r.user||p(!0)}()}),[e,n,r,A]);var R=function(e){var t=e.currentTarget,n=Object(M.a)({},g);n[t.name]=t.value,O(n)},D=function(){var t=Object(x.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),z(!0),!A){t.next=8;break}return t.next=5,y.editListing(e,g);case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,y.createListing(g);case 10:r=t.sent;case 11:return 400===r.status&&T(r.data),t.abrupt("return",z(!1));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.closeListing(n.id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j?Object(C.jsxs)(Ct,{className:"max-width-margin",children:[Object(C.jsxs)("h1",{children:[e?"Edit":"Create"," Listing"]}),Object(C.jsx)(St,{children:Object(C.jsxs)(X.a,{children:[Object(C.jsx)(Bt.a,{children:Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"titleInput",children:[Object(C.jsx)(X.a.Label,{children:"Title"}),Object(C.jsx)(X.a.Control,{type:"text",placeholder:"e.g.: Baseball Cards",name:"title",value:g.title,isInvalid:_.title,onChange:function(e){R(e)},maxLength:40}),_.title&&Object(C.jsx)(X.a.Text,{className:"alert-danger",tooltip:!0,children:_.title})]})}),Object(C.jsx)(Bt.a,{children:Object(C.jsxs)("div",{className:"two-columns",children:[A&&g.image_url&&Object(C.jsx)(Nt,{src:g.image_url}),Object(C.jsx)(It.a,{children:Object(C.jsxs)(X.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(C.jsx)(X.a.Label,{children:"Item Image"}),Object(C.jsx)(X.a.Control,{type:"file",name:"image_url",accept:"image/jpeg,image/png,image/gif",onChange:function(e){!function(e){var t=Object(M.a)({},g);t.image_url=e.target.files[0],O(t)}(e)}}),_.image_url&&Object(C.jsx)(X.a.Text,{className:"alert-danger",tooltip:!0,children:_.image_url})]})})]})}),Object(C.jsxs)(Bt.a,{children:[Object(C.jsx)(It.a,{children:Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"startBidInput",children:[Object(C.jsx)(X.a.Label,{children:"Start Bid"}),Object(C.jsx)(X.a.Control,{type:"number",placeholder:"49.99",name:"start_bid",value:g.start_bid,isInvalid:_.start_bid,disabled:A,onChange:function(e){R(e)},maxLength:9}),_.start_bid&&Object(C.jsx)(X.a.Text,{className:"alert-danger",tooltip:!0,children:_.start_bid})]})}),Object(C.jsx)(It.a,{children:Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"CategorySelect",children:[Object(C.jsx)(X.a.Label,{children:"Category"}),Object(C.jsxs)(X.a.Select,{"aria-label":"Floating label select example",name:"category",disabled:A&&-1!==g.category,value:g.category,onChange:function(e){R(e)},children:[Object(C.jsx)("option",{value:-1,children:"Select a category"},"select"),I.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.name},t)}))]}),_.category&&Object(C.jsx)(X.a.Text,{className:"alert-danger",tooltip:!0,children:_.category})]})})]}),Object(C.jsxs)(X.a.Group,{className:"mb-3",controlId:"descriptionInput",children:[Object(C.jsx)(X.a.Label,{children:"Description"}),Object(C.jsx)(X.a.Control,{as:"textarea",className:"preserve-whitespace",rows:10,placeholder:"Write a detailed description",name:"description",value:g.description,isInvalid:_.description,onChange:function(e){R(e)}}),_.description&&Object(C.jsx)(X.a.Text,{className:"alert-danger",tooltip:!0,children:_.description})]}),Object(C.jsxs)("div",{className:"two-columns space-between",children:[Object(C.jsx)($.a,{variant:"primary",type:"submit",onClick:function(e){return D(e)},disabled:Q,children:Q?"Please wait...":"Submit"}),A&&Object(C.jsx)($.a,{variant:"warning",type:"submit",onClick:function(e){return J(e)},disabled:Q,children:Q?"Please wait...":"Close Auction"})]})]})}),Object(C.jsx)(Rt,{showModal:s,setShowModal:o,handleConfirm:G,title:"Are you sure you want to close this listing?",body:"This action cannot be undone. Clicking 'Yes' will end this auction and determine a winner.",cancelButtonText:"Nevermind",confirmButtonText:"Yes, I am sure"})]}):Object(C.jsxs)(Ct,{children:[!A&&Object(C.jsx)("p",{children:"You must be logged in to use this page."}),A&&Object(C.jsx)("p",{children:"You do not have permission to access this page. Make sure you are logged in and trying to access your own listing."})]})},Jt={id:"",username:"",first_name:"",last_name:"",listings:[],comments:[],bids:[],watching:[],watchlist:[]},Gt=b.b.div(Ft||(Ft=Object(d.a)(["\n  max-width: var(--maxWidth);\n  padding: 1rem max(1rem, 3vw) 1rem;\n  margin: 0 auto;\n\n  .star {\n    color: #f4c430;\n    padding-bottom: 5px;\n  }\n\n  .datarow + .datarow {\n    margin-top: max(3rem, 3vw);\n    margin-bottom: max(3rem, 3vw);\n  }\n"]))),Pt=n(32),Yt=(n(125),b.b.div(Lt||(Lt=Object(d.a)(["\n  max-width: var(--maxWidth);\n  margin: 2rem auto;\n  max-height: 275px;\n"])))),Ut=b.b.div(_t||(_t=Object(d.a)(["\n\tmax-width: 225px;\n\tmax-height: 275px;\n\tborder: solid lightgray 1px;\n\tbackground-color: white;\n"]))),Zt=b.b.div(Tt||(Tt=Object(d.a)(["\n\tborder-top: solid lightgray 1px;\n\tpadding: 0 0.5rem;\n\tline-height: 1.5rem;\n"]))),Vt=b.b.div(Wt||(Wt=Object(d.a)(["\n\twhite-space: nowrap;\n\twidth: 75%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n"]))),Mt=b.b.div(qt||(qt=Object(d.a)([""]))),Ht=b.b.div(Qt||(Qt=Object(d.a)(["\n\twidth: 100%;\n\tpadding-bottom: 100%;\n\tposition: relative;\n"]))),Kt=b.b.img.attrs((function(e){return{src:e.src||ge}}))(zt||(zt=Object(d.a)(["\n\tobject-fit: contain;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0;\n\tright: 0;\n\tmargin: auto;\n\tmax-width: 100%;\n\tmax-height: 100%;\n"])));Kt.defaultProps={src:ge};var Xt,$t=function(e){var t=e.auction;return Object(C.jsxs)(Ut,{children:[Object(C.jsx)(Ht,{children:Object(C.jsx)(o.b,{to:"/listings/".concat(t.id),children:Object(C.jsx)(Kt,{src:t.image_url})})}),Object(C.jsxs)(Zt,{children:[Object(C.jsx)(o.b,{to:"/listings/".concat(t.id),children:Object(C.jsx)(Vt,{children:t.title})}),Object(C.jsxs)(Mt,{children:["$",t.current_bid_price.toFixed(2)]})]})]})},en=function(e){var t=e.listings,n=void 0===t?[]:t,r=n.length,c=Object(a.useState)(!0),i=Object(l.a)(c,2),s=i[0],o=i[1],u=function(){window.innerWidth<640?o(!0):o(!1)};return Object(a.useEffect)((function(){return window.addEventListener("resize",u),u(),function(){o(!1),window.removeEventListener("resize",u)}}),[]),Object(C.jsx)(Yt,{children:Object(C.jsxs)(Pt.c,{naturalSlideWidth:30,naturalSlideHeight:43,isIntrinsicHeight:!0,totalSlides:r,visibleSlides:s?3:4,children:[Object(C.jsx)(Pt.e,{className:"mb-2",children:n.map((function(e,t){return Object(C.jsx)(Pt.d,{index:t,children:Object(C.jsx)($t,{auction:e})},t)}))}),Object(C.jsx)(Pt.a,{className:"btn-sm btn-primary",children:"Back"}),Object(C.jsx)(Pt.b,{className:"btn-sm btn-primary ms-2",children:"Next"})]})})},tn=function(){var e=Object(u.g)().userName,t=B().user,n=function(e){var t=Object(a.useState)(Jt),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),j=b[0],p=b[1],m=function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",c(Jt));case 2:return e.prev=2,p(!1),u(!0),e.next=7,y.getProfileDetail(t);case 7:return n=e.sent,e.next=10,n.data.listings.reverse();case 10:if(200===n.status){e.next=13;break}return p(!0),e.abrupt("return");case 13:c(n.data),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),p(!0);case 19:u(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){m(e)}),[e]),{state:r,loading:o,error:j}}(e),r=n.state,c=n.loading,i=(n.error,Object(a.useState)(!1)),s=Object(l.a)(i,2),d=s[0],b=s[1],j=Object(a.useState)([]),m=Object(l.a)(j,2),f=m[0],g=m[1],O=Object(a.useState)([]),v=Object(l.a)(O,2),w=v[0],A=v[1],k=Object(a.useState)([]),S=Object(l.a)(k,2),N=S[0],I=S[1];Object(a.useEffect)((function(){return t&&t.username.toLowerCase()===e.toLowerCase()&&b(!0),function(){var e=r.listings.filter((function(e){return!0===e.is_active}));g(e)}(),function(){var e=r.listings.filter((function(e){return!1===e.is_active}));A(e)}(),function(){if(d){var e=r.watchlist.filter((function(e){return!0===e.is_active}));I(e)}}(),function(){b(!1),g([]),A([]),I([])}}),[r,t,e,d]);var E=function(t){var n=e;return d&&(n="you"),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"capitalize",children:n})," ","you"===n?"have":"has"," no ",t," listings"]})};return Object(C.jsxs)(Gt,{className:"max-width-margin",children:[c&&Object(C.jsx)(me,{}),!c&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h1",{className:"text-capitalize",children:[r.username,"'s Profile (",Object(C.jsx)(p.g,{className:"star"}),w.length,")"]}),d&&Object(C.jsx)("div",{class:"mb-2",children:Object(C.jsx)(o.b,{to:"../listings/create/",children:Object(C.jsx)($.a,{variant:"primary",children:"Create a new Listing"})})}),Object(C.jsxs)("div",{className:"datarow",children:[Object(C.jsx)("h2",{children:"Active Listings"}),r.listings.length>0?Object(C.jsx)(en,{listings:f}):Object(C.jsx)("p",{children:E("active")})]}),d&&Object(C.jsxs)("div",{className:"datarow",children:[Object(C.jsx)("h2",{children:"Watchlist"}),N.length>0?Object(C.jsx)(en,{listings:N}):Object(C.jsx)("p",{children:E("watched")})]}),Object(C.jsxs)("div",{className:"datarow",children:[Object(C.jsx)("h2",{children:"Closed Listings"}),w.length>0?Object(C.jsx)(en,{listings:w}):Object(C.jsx)("p",{children:E("closed")})]}),d&&Object(C.jsxs)("div",{className:"datarow",children:[Object(C.jsx)("h2",{children:"Won Auctions"}),r.won.length>0?Object(C.jsx)(en,{listings:r.won}):Object(C.jsx)("p",{children:E("won")})]})]})]})},nn=(n(126),Object(b.a)(Xt||(Xt=Object(d.a)(["\n    :root {\n        --maxWidth: 1280px;\n        --primary: #0275d8;\n        --secondary: #292b2c;\n        --lightGrey: #aaa;\n        --medLightGrey: #8c8c8c;\n        --medGrey: #353535;\n        --darkGrey: #1c1c1c;\n        --red: #Fc0000;\n        --transition: all 0.3s linear;\n    }\n\n    /* A class to add padding when the screen is smaller than maxWidth */\n    @media screen and (max-width: 1280px) {\n\t\t.max-width-margin {\n            margin-inline: 1rem;\n        }\n\t}\n\n    *, ::after,\n    ::before {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    body {\n        margin: 0;\n        padding: 0;\n    }\n\n    .two-columns {\n        display: flex;\n        flex-wrap: wrap;\n    }\n\n    .space-between {\n        justify-content: space-between;\n    }\n\n    .preserve-whitespace {\n        white-space: pre-wrap;\n    }\n\n    .gap {\n        gap: var(--gap,1rem);\n    }\n\n    .capitalize {\n        text-transform: capitalize;\n    }\n\n    .date {\n        font-style: italic;\n        font-size: .9rem;\n    }\n\n"])))),rn=n(15);var an=function(){var e=Object(rn.b)();return Object(C.jsxs)(o.a,{history:e,children:[Object(C.jsxs)(N,{children:[Object(C.jsx)(V,{}),Object(C.jsxs)(u.c,{children:[Object(C.jsx)(u.a,{path:"/register",element:Object(C.jsx)(re,{})}),Object(C.jsx)(u.a,{path:"/login",element:Object(C.jsx)(ie,{})}),Object(C.jsx)(u.a,{path:"/logout",element:Object(C.jsx)(oe,{})}),Object(C.jsx)(u.a,{path:"/",element:Object(C.jsx)(et,{})}),Object(C.jsx)(u.a,{path:"/profile/:userName",element:Object(C.jsx)(tn,{})}),Object(C.jsx)(u.a,{path:"/listings/:listingId",element:Object(C.jsx)(yt,{})}),Object(C.jsx)(u.a,{path:"/listings/create",element:Object(C.jsx)(Dt,{})}),Object(C.jsx)(u.a,{path:"/listings/edit/:listingId",element:Object(C.jsx)(Dt,{})})]})]}),Object(C.jsx)(nn,{})]})},cn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(an,{})}),document.getElementById("root")),cn()},80:function(e,t,n){},81:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.961ddef9.chunk.js.map